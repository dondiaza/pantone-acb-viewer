<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Visor Pantone ACB</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}" />
  </head>
  <body>
    <main class="layout">
      <header class="header">
        <h1>Visor Pantone ACB</h1>
        <p class="hint">Carga bibliotecas de muestras Adobe (*.acb, *.ase) desde <code>./acb/</code></p>
      </header>

      <section class="toolbar">
        <label class="zoom-control" for="zoomRange">
          Zoom de rejilla
          <input id="zoomRange" type="range" min="120" max="280" step="10" value="210" />
          <span id="zoomLabel" class="zoom-label">210px</span>
        </label>

        <button id="collapseAllBtn" class="secondary-button" type="button">Colapsar todo</button>

        <form id="hexSearchForm" class="search-form">
          <label for="hexInput">Buscar HEX</label>
          <input id="hexInput" name="hex" type="text" placeholder="#E4002B" />
          <label for="searchBookSelect">Paleta</label>
          <select id="searchBookSelect" name="book_id"></select>
          <button type="submit">Buscar Pantone</button>
        </form>
      </section>

      <section id="messages" class="messages"></section>

      <section id="searchResults" class="search-results" hidden>
        <h2>Resultados HEX</h2>
        <p id="searchSummary" class="hint"></p>
        <div id="searchCards" class="color-grid"></div>
        <div id="searchTextList" class="search-text-list"></div>
      </section>

      <section class="psd-section">
        <h2>Importador PSD</h2>
        <form id="psdForm" class="psd-form">
          <label for="psdFileInput">Archivo PSD</label>
          <input id="psdFileInput" name="file" type="file" accept=".psd" hidden />
          <div id="psdDropZone" class="psd-dropzone" role="button" tabindex="0">
            Arrastra y suelta el PSD aqui, o haz clic para seleccionarlo
          </div>
          <div id="psdFileName" class="hint">Ningun archivo seleccionado</div>
          <label for="psdBookSelect">Sugerir con paleta</label>
          <select id="psdBookSelect" name="book_id"></select>
          <button type="submit">Analizar PSD</button>
        </form>
        <p class="hint">Detecta colores por capa y sugiere el Pantone mas cercano cuando no hay coincidencia exacta.</p>
      </section>

      <section id="psdResults" class="psd-results" hidden>
        <h2>Sugerencias PSD</h2>
        <p id="psdSummary" class="hint"></p>
        <div id="psdCards" class="psd-grid"></div>
      </section>

      <section id="books" class="books"></section>
    </main>
    <script src="{{ url_for('static', filename='app.js') }}" defer></script>
  </body>
</html>
